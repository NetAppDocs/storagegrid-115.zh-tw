---
permalink: tenant/requirements-for-s3-object-lock.html 
sidebar: sidebar 
keywords: storagegrid, tenant, s3 bucket, s3 object, S3 Object Lock, s3 object lock requirements 
summary: 在啟用儲存區的S3物件鎖定之前、請先檢閱S3物件鎖定儲存區和物件的需求、以及啟用S3物件鎖定之儲存區中物件的生命週期。 
---
= S3物件鎖定需求
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
在啟用儲存區的S3物件鎖定之前、請先檢閱S3物件鎖定儲存區和物件的需求、以及啟用S3物件鎖定之儲存區中物件的生命週期。



== 啟用S3物件鎖定的儲存區需求

* 如果StorageGRID 已針對整個S3物件鎖定設定啟用for the S廳 系統、您可以使用租戶管理程式、租戶管理API或S3 REST API來建立啟用S3物件鎖定的儲存區。
+
此租戶管理程式範例顯示已啟用S3物件鎖定的儲存區。

+
image::../media/compliant_bucket.png[符合範例的工作時段]

* 如果您打算使用S3物件鎖定、則必須在建立儲存區時啟用S3物件鎖定。您無法為現有的儲存區啟用S3物件鎖定。
* S3物件鎖定需要庫位版本管理。當「S3物件鎖定」已啟用時、StorageGRID 即可自動啟用該儲存區的版本管理功能。
* 在建立啟用S3物件鎖定的儲存區之後、您無法停用該儲存區的S3物件鎖定或暫停版本管理。
* 啟用S3物件鎖定的支援區段沒有預設保留期間StorageGRID 。而是S3用戶端應用程式可以選擇性地為新增至該儲存區的每個物件版本指定保留日期和合法保留設定。
* S3物件生命週期儲存區支援儲存區生命週期組態。
* 啟用S3物件鎖定的儲存區不支援CloudMirror複寫。




== 啟用S3物件鎖定之儲存區中的物件需求

* S3用戶端應用程式必須針對需要受到S3物件鎖定保護的每個物件、指定保留設定。
* 您可以增加物件版本的保留截止日期、但絕不能減少此值。
* 如果您收到尚待處理的法律行動或法規調查通知、您可以在物件版本上保留合法資訊、以保留相關資訊。當物件版本處於合法持有狀態時、即使StorageGRID 物件已達到保留日期、也無法從該物件刪除。一旦取消合法持有、如果已達到保留截止日期、就可以刪除物件版本。
* S3物件鎖定需要使用版本控制的儲存區。保留設定適用於個別物件版本。物件版本可以同時具有「保留直到日期」和「合法保留」設定、但不能有另一個設定、或兩者都沒有。指定物件的保留截止日期或合法保留設定、只會保護要求中指定的版本。您可以建立物件的新版本、而舊版物件仍會保持鎖定狀態。




== 啟用S3物件鎖定的儲存區物件生命週期

儲存在已啟用S3物件鎖定的儲存區中的每個物件都會經過三個階段：

. *物件擷取*
+
** 在啟用S3物件鎖定的儲存區中新增物件版本時、S3用戶端應用程式可選擇性地指定物件的保留設定（保留至日期、合法保留或兩者皆保留）。接著、將產生該物件的中繼資料、其中包括唯一的物件識別碼（UUID）和擷取日期與時間。StorageGRID
** 擷取具有保留設定的物件版本之後、就無法修改其資料和S3使用者定義的中繼資料。
** 不受物件資料限制、可獨立儲存物件中繼資料。StorageGRID它會在每個站台維護三份所有物件中繼資料複本。


. *物件保留*
+
** 物件的多個複本是StorageGRID 由NetApp儲存的。複本的確切數量和類型、以及儲存位置、取決於使用中ILM原則中的相容規則。


. *物件刪除*
+
** 物件到達保留截止日期時、即可刪除。
** 無法刪除合法持有的物件。



