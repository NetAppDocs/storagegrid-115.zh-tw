---
permalink: ilm/simulating-ilm-policy.html 
sidebar: sidebar 
keywords:  
summary: 在啟動原則並將其套用至正式作業資料之前、您應該先模擬測試物件上的建議原則。模擬視窗提供獨立式環境、可在原則啟動並套用至正式作業環境中的資料之前、安全地進行測試。 
---
= 模擬ILM原則
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
在啟動原則並將其套用至正式作業資料之前、您應該先模擬測試物件上的建議原則。模擬視窗提供獨立式環境、可在原則啟動並套用至正式作業環境中的資料之前、安全地進行測試。

.您需要的產品
* 您必須使用支援的瀏覽器登入Grid Manager。
* 您必須擁有特定的存取權限。
* 您必須知道要測試的每個物件的S3儲存區/物件金鑰或Swift容器/物件名稱、而且必須已經擷取這些物件。


.關於這項工作
您必須仔細選取要測試建議原則的物件。若要徹底模擬原則、您應該針對每個規則中的每個篩選器測試至少一個物件。

例如、如果原則包含一個規則來比對儲存區A中的物件、以及另一個規則來比對儲存區B中的物件、則您必須從儲存區A選取至少一個物件、然後從儲存區B選取一個物件、才能徹底測試原則。如果原則包含放置所有其他物件的預設規則、您必須從另一個儲存區測試至少一個物件。

模擬原則時、請考量下列事項：

* 變更原則之後、請儲存建議的原則。然後、模擬已儲存的建議原則行為。
* 當您模擬原則時、原則中的ILM規則會篩選測試物件、讓您可以查看套用到每個物件的規則。不過、不會建立物件複本、也不會放置任何物件。執行模擬並不會以任何方式修改資料、規則或原則。
* Simulation頁面會保留您測試過的物件、直到您關閉、瀏覽或重新整理ILM原則頁面為止。
* Simulation會傳回相符規則的名稱。若要判斷哪個儲存資源池或銷毀編碼設定檔有效、您可以按一下規則名稱或「更多詳細資料」圖示來檢視保留圖 image:../media/icon_nms_more_details.gif["更多詳細資料圖示"]。
* 如果啟用S3版本管理、則只會針對物件的目前版本模擬原則。


.步驟
. 選取並排列規則、然後儲存建議的原則。
+
本範例中的原則有三個規則：

+
[cols="1a,1a,1a,1a"]
|===
| 規則名稱 | 篩選器 | 複本類型 | 保留 


 a| 
X-men
 a| 
** 租戶A
** 使用者中繼資料（series=x-men）

 a| 
兩個資料中心提供2份複本
 a| 
2年



 a| 
PNGs
 a| 
金鑰結尾為.png-
 a| 
兩個資料中心提供2份複本
 a| 
5年



 a| 
兩份複本兩個資料中心
 a| 
_無_
 a| 
兩個資料中心提供2份複本
 a| 
永遠

|===
+
image:../media/ilm_policies_viewing_proposed.png["ILM原則檢視建議項目"]

. 按一下「*模擬*」。
+
此時會出現Simulation ILM Policy（模擬ILM原則）對話方塊。

. 在「*物件*」欄位中、輸入測試物件的S3儲存區/物件金鑰或Swift容器/物件名稱、然後按一下「*模擬*」。
+
[NOTE]
====
如果您指定尚未擷取的物件、則會出現訊息。

image::../media/object_not_available_for_simulation.gif[指定遺失物件時顯示訊息]

====
. 在「*模擬結果*」下、確認每個物件都符合正確的規則。
+
在範例中 `Havok.png` 和 `Warpath.jpg` 物件已正確符合X-men規則。。 `Fullsteam.png` 物件、但不包括在內 `series=x-men` 使用者中繼資料、不符合X-men規則、但已正確符合PNGs規則。未使用預設規則、因為這三個物件都與其他規則相符。

+
image::../media/ilm_policy_simulation_results.gif[模擬結果]


