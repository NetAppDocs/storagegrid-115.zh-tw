---
permalink: ilm/what-ilm-rule-is.html 
sidebar: sidebar 
keywords:  
summary: 若要管理物件、請建立一組資訊生命週期管理（ILM）規則、並將其組織成ILM原則。系統中擷取的每個物件都會根據作用中原則進行評估。當原則中的規則符合物件的中繼資料時、規則中的指示會決定StorageGRID 哪些動作需要複製及儲存該物件。 
---
= 什麼是ILM規則
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
若要管理物件、請建立一組資訊生命週期管理（ILM）規則、並將其組織成ILM原則。系統中擷取的每個物件都會根據作用中原則進行評估。當原則中的規則符合物件的中繼資料時、規則中的指示會決定StorageGRID 哪些動作需要複製及儲存該物件。

ILM規則定義：

* 應該儲存哪些物件。規則可以套用至所有物件、也可以指定篩選條件、以識別規則適用的物件。例如、規則只能套用至與特定租戶帳戶、特定S3儲存區或Swift容器或特定中繼資料值相關聯的物件。
* 儲存類型與位置。物件可以儲存在儲存節點、雲端儲存資源池或歸檔節點上。
* 所製作的物件複本類型。複本可以複寫或銷毀編碼。
* 複寫複本的複本數量。
* 對於銷毀編碼複本、使用的是銷毀編碼方案。
* 隨著時間變更至物件的儲存位置和複本類型。
* 物件資料如何在物件擷取到網格時受到保護（同步放置或雙重提交）。


請注意、物件中繼資料並非由ILM規則管理。相反地、物件中繼資料會儲存在Cassandra資料庫的中繼資料儲存區中。每個站台會自動維護三個物件中繼資料複本、以保護資料免於遺失。複本會平均分散到所有儲存節點。



== ILM規則的元素

ILM規則有三個元素：

* *篩選條件*：規則的基本和進階篩選條件會定義規則所套用的物件。如果物件符合所有篩選條件、StorageGRID 則會套用規則、並建立規則放置說明中指定的物件複本。
* *放置指示*：規則的放置指示會定義物件複本的編號、類型和位置。每個規則都可以包含一系列放置指示、以便隨著時間變更物件複本的編號、類型和位置。當一個放置時間到期時、下一個放置位置的指示會自動套用到下一個ILM評估。
* *內嵌行為*：規則的擷取行為定義S3或Swift用戶端將物件儲存至網格時會發生什麼情況。擷取行為可控制物件複本是否立即根據規則中的指示放置、或是是否製作了過渡複本、並於稍後套用放置指示。




== ILM規則範例

本範例ILM規則適用於屬於租戶A的物件它會為這些物件建立兩個複寫複本、並將每個複本儲存在不同的站台。這兩個複本都保留「Forever」、這表示StorageGRID 不會自動刪除。相反地StorageGRID 、在用戶端刪除要求刪除這些物件之前、或是在庫位生命週期到期之前、將會保留這些物件。

此規則使用平衡選項來擷取行為：只要租戶A將物件儲存StorageGRID 至時、就會立即套用雙站台放置指示、除非無法立即製作這兩份必要的複本。例如、如果租戶A儲存物件時無法連線站台2、StorageGRID 則會在站台1的儲存節點上製作兩份臨時複本。一旦網站2推出、StorageGRID 就會在該網站上製作所需的複本。

image::../media/ilm_example_rule_2_copies_tenant_a.png[ILM規則2範例複製租戶A]

.相關資訊
link:data-protection-options-for-ingest.html["用於擷取的資料保護選項"]

link:what-storage-pool-is.html["什麼是儲存資源池"]

link:what-cloud-storage-pool-is.html["什麼是雲端儲存資源池"]

link:how-objects-are-stored-replication-erasure-coding.html["物件的儲存方式（複寫或銷毀編碼）"]

link:what-ilm-rule-filtering-is.html["什麼是ILM規則篩選"]

link:what-ilm-placement-instructions-are.html["什麼是ILM規則放置指示"]
